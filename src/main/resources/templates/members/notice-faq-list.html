<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>공지사항과 자주 묻는 질문</title>
    <style>
        .toggle-section {
            display: none;
        }
        .toggle-button.active {
            font-weight: bold;
            color: #007bff;
        }
    </style>
</head>
<body>
<h1>공지사항 & 자주 묻는 질문</h1>

<!-- Toggle Buttons -->
<button class="toggle-button" id="noticeButton">공지사항</button>
<button class="toggle-button" id="faqButton">자주 묻는 질문</button>

<!-- 공지사항 목록 -->
<div id="noticeSection" class="toggle-section">
    <h2>공지사항 목록</h2>
    <table>
        <thead>
        <tr>
            <th>제목</th>
            <th>등록일</th>
            <th>조회수</th>
        </tr>
        </thead>
        <tbody>
        <tr th:each="notice : ${noticePage.content}">
            <td><a th:href="@{/members/notice-detail/{noticeCode}(noticeCode=${notice.noticeCode})}" th:text="${notice.noticeTitle}"></a></td>
            <td th:text="${notice.noticeCreatedDate}"></td>
            <td th:text="${notice.noticeView}"></td>
        </tr>
        </tbody>
    </table>
</div>

<!-- 자주 묻는 질문 목록 -->
<div id="faqSection" class="toggle-section">
    <h2>자주 묻는 질문 목록</h2>
    <table>
        <thead>
        <tr>
            <th>제목</th>
            <th>등록일</th>
            <th>조회수</th>
        </tr>
        </thead>
        <tbody>
        <tr th:each="notice : ${faqPage.content}">
            <td><a th:href="@{/members/faq-detail/{noticeCode}(noticeCode=${notice.noticeCode})}" th:text="${notice.noticeTitle}"></a></td>
            <td th:text="${notice.noticeCreatedDate}"></td>
            <td th:text="${notice.noticeView}"></td>
        </tr>
        </tbody>
    </table>
</div>

<!-- Pagination -->
<div>
    <span th:if="${currentPage > 0}">
        <a th:href="@{/members/notice-faq-list?page=0}"><<</a>
        <a th:href="@{/members/notice-faq-list?page=${currentPage - 1}}"><</a>
    </span>
    <span>페이지 <span th:text="${currentPage + 1}"></span> / <span th:text="${totalPages}"></span></span>
    <span th:if="${currentPage < totalPages - 1}">
        <a th:href="@{/members/notice-faq-list?page=${currentPage + 1}}">></a>
        <a th:href="@{/members/notice-faq-list?page=${totalPages - 1}}">>></a>
    </span>
</div>

<!-- Toggle Section JavaScript -->
<script>
    // 버튼 클릭 시 토글 처리
    document.getElementById("noticeButton").addEventListener("click", function() {
        document.getElementById("noticeSection").style.display = 'block';
        document.getElementById("faqSection").style.display = 'none';
        this.classList.add("active");
        document.getElementById("faqButton").classList.remove("active");
    });

    document.getElementById("faqButton").addEventListener("click", function() {
        document.getElementById("faqSection").style.display = 'block';
        document.getElementById("noticeSection").style.display = 'none';
        this.classList.add("active");
        document.getElementById("noticeButton").classList.remove("active");
    });

    // 기본적으로 공지사항 섹션을 먼저 보이도록 설정
    document.getElementById("noticeSection").style.display = 'block';
    document.getElementById("faqSection").style.display = 'none';
    document.getElementById("noticeButton").classList.add("active");
</script>

</body>
</html>
